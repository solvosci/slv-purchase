<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <template id="report_fcd_purchasae_order_tag_document_pdf">
    <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)"/>
    <div class="page">
      <div style="font-size: 16px;">
        <t t-set="tag_counter" t-value="1"/>
        <t t-foreach="doc.order_line.filtered(lambda x: x.fcd_lot_id.id != False)" t-as="line">
          <div class="row mb-2" style="width: 100%; border: 1px solid black; border-radius: 10px;">
            <div class="col-6" style="border-right: 1px solid; display: flex; flex-direction: column;">
              <div class="row" style="border-bottom: 1px solid black; align-items: end; flex-grow: 1;">
                <span class="d-block col-6" style="font-weight: bold;font-size: 15px;"><t t-esc="doc.name"/></span>
                <span class="d-block col-6" style="text-align: end;"><t t-esc="doc.date_approve.date()"/></span>
              </div>
              <div class="row" style="border-bottom: 1px solid black; flex-grow: 1;">
                <span class="d-block col-12 text-center"><t t-esc="line.partner_id.name"/></span>
              </div>
              <div class="row" style="border-bottom: 1px solid black; flex-grow: 1;">
                <span class="d-block col-7 text-center" style="border-right: 1px solid black">Product</span>
                <span class="d-block col-5 text-center">Box Count</span>
              </div>
              <div class="row" style="flex-grow: 2;">
                <span class="d-block col-7 text-center" style="border-right: 1px solid black; min-height: 55px"><t t-esc="line.product_id.name"/></span>
                <span class="d-block col-5 text-center"><t t-esc="int(line.secondary_uom_qty)"/></span>
              </div>
            </div>
            <div class="col-6">
              <div class="d-flex justify-content-center">
                <img class="d-block mt-1" t-att-src="'/report/barcode/?type=Code128&amp;quiet=0&amp;value=%s' % (line.fcd_lot_id.name)" style="max-width: 400px; min-height: 100px;"/>
              </div>
              <span class="d-block text-center" t-esc="line.fcd_lot_id.name"/>
            </div>
          </div>
          <t t-if="tag_counter==8">
            <t t-set="tag_counter" t-value="1"/>
            <div style="page-break-after: always"></div>
          </t>
          <t t-else="">
            <t t-set="tag_counter" t-value="tag_counter + 1" />
          </t>
        </t>
      </div>
    </div>
  </template>

  <template id="report_fcd_purchasae_order_tag_pdf">
    <t t-call="web.basic_layout">
      <t t-foreach="docs.filtered(lambda x: x.state in ['purchase','done'])" t-as="doc">
        <t t-call="fcd_purchase_order.report_fcd_purchasae_order_tag_document_pdf"/>
      </t>
    </t>
  </template>

</odoo>
