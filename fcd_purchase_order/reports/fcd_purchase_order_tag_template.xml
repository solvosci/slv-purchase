<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <template id="report_fcd_purchasae_order_tag_document_pdf">
    <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)"/>
    <div class="page" style="font-size: 18px;">
      <t t-foreach="doc.order_line.filtered(lambda x: x.fcd_lot_id.id != False)" t-as="line">
        <div style="border: 1px solid black; border-radius: 10px; page-break-after: always;">
          <div style="border-bottom: 1px solid black;">
            <div class="row">
              <div class="d-block col-6" style="font-weight: bold;font-size: 15px;">
                <span class="pl-2" style="font-size: 20px;">
                  <t t-esc="doc.name"/>
                </span>
              </div>
              <div class="d-block col-6" style="text-align: end;">
                <span class="pr-2" style="font-size: 20px;">
                  <t t-esc="doc.date_approve.strftime('%d/%m/%Y')"/>
                </span>
              </div>
            </div>
          </div>
          <div style="border-bottom: 1px solid black;">
            <span class="d-block text-center">
              <t t-esc="line.partner_id.name"/>
            </span>
          </div>
          <div style="border-bottom: 1px solid black;">
            <div class="row">
              <span class="d-block col-6 text-center" style="border-right: 1px solid black">Product</span>
              <span class="d-block col-3 text-center" style="border-right: 1px solid black">Box Count</span>
              <span class="d-block col-3 text-center">Quantity</span>
            </div>
          </div>
          <div style="border-bottom: 1px solid black;">
            <div class="row">
              <span class="d-block col-6 text-center" style="border-right: 1px solid black; min-height: 55px">
                <t t-esc="line.product_id.name"/>
              </span>
              <span class="d-block col-3 text-center" style="border-right: 1px solid black">
                <t t-esc="int(line.secondary_uom_qty)"/>
              </span>
              <span class="d-block col-3 text-center">
                <t t-esc="line.product_qty"/>
                <t t-esc="line.product_uom.name"/>
              </span>
            </div>
          </div>
          <div>
            <div class="row">
              <div class="col-12 text-center mr-5 pt-2">
                <img t-att-src="'/report/barcode/?type=Code128&amp;quiet=0&amp;value=%s' % (line.fcd_lot_id.name)" style="max-width: 200px; min-height: 50px;"/>
                <span class="d-block text-center" t-esc="line.fcd_lot_id.name"/>
              </div>
            </div>
          </div>
        </div>
      </t>
    </div>
  </template>

  <template id="report_fcd_purchasae_order_tag_pdf">
    <t t-call="web.basic_layout">
      <t t-foreach="docs.filtered(lambda x: x.state in ['purchase','done'])" t-as="doc">
        <t t-call="fcd_purchase_order.report_fcd_purchasae_order_tag_document_pdf"/>
      </t>
    </t>
  </template>

</odoo>
